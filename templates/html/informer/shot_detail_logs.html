{% extends "informer/shot_detail_base.html" %}
{% block title %}Overview{% endblock %}
  
{% block body_id %}overview{% endblock %}

{% block content %}
        <div class="box large">
          <h3>Recent Activity</h3>
          <ul class="heading" id="overview_heading">
            <li class="date highlight" onclick="Logs.set_sorter('date');">Date</li>
            <li class="author" onclick="Logs.set_sorter('author');">Author</li>
            <li class="activity" onclick="Logs.set_sorter('activity');">Activity</li>
          </ul>
    
          <ul class="entries" id="overview_entries">
					{% for log in log_list %}
            		<li>
							<span class="date highlight">{{ log.when|date:"m/j/Y" }}</span>
							<span class="author">{{ log.who.username }}</span>
							<span class="activity">{% spaceless %}
							{% if log.msg_prefix %}{{ log.msg_prefix }}{% endif %}
							{% ifequal log.type 'Note' %}
								<q>{{ log.object_repr|truncatewords:10 }}</q>
							{% else %}
								{{ log.object_repr }}
							{% endifequal %}
							{% if log.msg_suffix %}{{ log.msg_suffix }}{% endif %}
							{% endspaceless %}</span>
							</span>
						</li>
					{% endfor %}
					</ul>
			  </div>
{% endblock %}

{%block script %}

Event.observe(window, 'load', function() { Logs.url = '{{ shot.get_json_logs_url }}'; });

{% endblock %}
